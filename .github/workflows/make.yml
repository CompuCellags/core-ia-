- name: ğŸ§ª Run Make and Conditional Tests
  run: |
    make all

    if [ -d tests ]; then
      echo "âœ… tests/ folder found. Running pytest..."

      # Crear entorno virtual si no existe
      if [ ! -d .venv ]; then
        echo "ğŸ”§ Creating virtual environment..."
        python3 -m venv .venv
      fi

      # Activar entorno y correr pruebas
      source .venv/bin/activate
      pip install --upgrade pip pytest
      pytest tests/
    else
      echo "âš ï¸ No se encontrÃ³ carpeta de pruebas. Flujo continuarÃ¡ sin ejecutar tests."
      echo "âš ï¸ tests/ folder not found. Skipping test execution."
    fi
